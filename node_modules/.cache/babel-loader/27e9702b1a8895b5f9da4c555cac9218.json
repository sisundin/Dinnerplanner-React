{"ast":null,"code":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport spin from './spinner.gif';\nconst h = React.createElement;\n\nconst RenderPromise = ({\n  promise,\n  renderData\n}) => {\n  const [data, setData] = React.useState(null);\n  React.useEffect(() => {\n    setData(null);\n    promise.then(x => setData(x)).catch(err => setData({\n      error: err\n    }));\n  }, [promise]); // TODO: return cancel promise on unmount\n\n  return data === null && h(\"img\", {\n    src: spin\n  }) || data !== null && !data.error && h(renderData, {\n    data\n  }) || data !== null && data.error && h(\"div\", {}, data.error.toString());\n};","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/otil/renderPromise.js"],"names":["React","ReactDOM","spin","h","createElement","RenderPromise","promise","renderData","data","setData","useState","useEffect","then","x","catch","err","error","src","toString"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AAEA,MAAMC,CAAC,GAAGH,KAAK,CAACI,aAAhB;;AAIA,MAAMC,aAAa,GAAC,CAAC;AAACC,EAAAA,OAAD;AAAUC,EAAAA;AAAV,CAAD,KAAyB;AACzC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAgBT,KAAK,CAACU,QAAN,CAAe,IAAf,CAAtB;AACAV,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAI;AAACF,IAAAA,OAAO,CAAC,IAAD,CAAP;AACfH,IAAAA,OAAO,CAACM,IAAR,CAAaC,CAAC,IAAEJ,OAAO,CAACI,CAAD,CAAvB,EACQC,KADR,CACcC,GAAG,IAAEN,OAAO,CAAC;AAACO,MAAAA,KAAK,EAACD;AAAP,KAAD,CAD1B;AAEL,GAHD,EAGG,CAACT,OAAD,CAHH,EAFyC,CAKzB;;AAEhB,SAAQE,IAAI,KAAG,IAAP,IAAeL,CAAC,CAAC,KAAD,EAAQ;AAACc,IAAAA,GAAG,EAACf;AAAL,GAAR,CAAhB,IACAM,IAAI,KAAI,IAAR,IAAgB,CAACA,IAAI,CAACQ,KAAtB,IAA+Bb,CAAC,CAACI,UAAD,EAAa;AAACC,IAAAA;AAAD,GAAb,CADhC,IAEAA,IAAI,KAAI,IAAR,IAAgBA,IAAI,CAACQ,KAArB,IAA8Bb,CAAC,CAAC,KAAD,EAAQ,EAAR,EAAYK,IAAI,CAACQ,KAAL,CAAWE,QAAX,EAAZ,CAFvC;AAGF,CAVF","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport spin from './spinner.gif'\n\nconst h = React.createElement;\n\n\n\nconst RenderPromise=({promise, renderData})=>{\n    const [data, setData]=React.useState(null);\n    React.useEffect(()=>{setData(null);\n          promise.then(x=>setData(x))\n                 .catch(err=>setData({error:err}));\n    }, [promise]);  // TODO: return cancel promise on unmount\n \n    return  data===null && h(\"img\", {src:spin})\n         || data !==null && !data.error && h(renderData, {data})\n         || data !==null && data.error && h(\"div\", {}, data.error.toString());\n };\n \n\n\n\n \n "]},"metadata":{},"sourceType":"module"}