{"ast":null,"code":"import React from 'react';\nconst h = React.createElement;\nexport default class SummaryView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {\n      ingredients: this.props.model.getShoppingList(),\n      guests: this.props.model.getNumberOfGuests()\n    };\n  }\n\n  update() {\n    this.setState({\n      ingredients: this.props.model.getShoppingList(),\n      guests: this.props.model.getNumberOfGuests()\n    });\n  }\n\n  componentDidMount() {\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  render() {\n    return h(\"div\", h(\"span\", `Dinner for ` + this.state.guests + ` people`), h(\"button\", {\n      class: \"navigationbutton\"\n    }, \"Back to search\"), h(\"table\", h(\"th\", h(\"td\", \" Ingredient\"), h(\"td\", \"supermarket aisle\"), h(\"td\", \"amount\")), this.state.ingredients.map(ingredient => h(\"tr\", h(\"td\", ingredient.name), h(\"td\", ingredient.aisle), h(\"td\", ingredient.amount * this.state.guests))), h(\"th\", h(\"td\", \"Total Price:\"), h(\"td\", getTotalPrice(this.state.ingredients, this.state.guests)), h(\"td\", \"SEK\"))));\n  }\n\n}\n\nfunction getTotalPrice(ingredients, guests) {\n  let list = ingredients;\n  let price = 0;\n  list.forEach(ingredient => {\n    price = price + ingredient.amount;\n  });\n  return price * guests;\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/summary/summaryView.js"],"names":["React","h","createElement","SummaryView","Component","constructor","props","state","ingredients","model","getShoppingList","guests","getNumberOfGuests","update","setState","componentDidMount","addObserver","componentWillUnmount","removeObserver","render","class","map","ingredient","name","aisle","amount","getTotalPrice","list","price","forEach"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,CAAC,GAAGD,KAAK,CAACE,aAAhB;AAEA,eAAe,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAAyC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACI,SAAKA,KAAL,GAAaA,KAAb;AACF,SAAKC,KAAL,GAAa;AACbC,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,eAAjB,EADA;AAEbC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWG,KAAX,CAAiBG,iBAAjB;AAFK,KAAb;AAKF;;AAEDC,EAAAA,MAAM,GAAG;AAER,SAAKC,QAAL,CAAc;AACVN,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,eAAjB,EADH;AAEVC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWG,KAAX,CAAiBG,iBAAjB;AAFE,KAAd;AAID;;AAGHG,EAAAA,iBAAiB,GAAG;AAChB,SAAKT,KAAL,CAAWG,KAAX,CAAiBO,WAAjB,CAA6B,MAAM,KAAKH,MAAL,EAAnC;AACD,GAtBqD,CAwBtD;AACA;;;AACAI,EAAAA,oBAAoB,GAAG;AACrB,SAAKX,KAAL,CAAWG,KAAX,CAAiBS,cAAjB,CAAgC,IAAhC;AACD;;AAEHC,EAAAA,MAAM,GAAE;AACJ,WAAOlB,CAAC,CAAC,KAAD,EAAQA,CAAC,CAAC,MAAD,EAAU,aAAD,GAAe,KAAKM,KAAL,CAAWI,MAA1B,GAAoC,SAA7C,CAAT,EACJV,CAAC,CAAC,QAAD,EAAW;AAACmB,MAAAA,KAAK,EAAC;AAAP,KAAX,EAAuC,gBAAvC,CADG,EAEJnB,CAAC,CAAC,OAAD,EACDA,CAAC,CAAC,IAAD,EAAQA,CAAC,CAAC,IAAD,EAAO,aAAP,CAAT,EAAgCA,CAAC,CAAC,IAAD,EAAO,mBAAP,CAAjC,EAA6DA,CAAC,CAAC,IAAD,EAAO,QAAP,CAA9D,CADA,EAED,KAAKM,KAAL,CAAWC,WAAX,CAAuBa,GAAvB,CAA2BC,UAAU,IAAGrB,CAAC,CAAC,IAAD,EAAOA,CAAC,CAAC,IAAD,EAAQqB,UAAU,CAACC,IAAnB,CAAR,EACzCtB,CAAC,CAAC,IAAD,EAAQqB,UAAU,CAACE,KAAnB,CADwC,EACZvB,CAAC,CAAC,IAAD,EAAQqB,UAAU,CAACG,MAAX,GAAoB,KAAKlB,KAAL,CAAWI,MAAvC,CADW,CAAzC,CAFC,EAIDV,CAAC,CAAC,IAAD,EAAOA,CAAC,CAAC,IAAD,EAAO,cAAP,CAAR,EAAiCA,CAAC,CAAC,IAAD,EAAQyB,aAAa,CAAC,KAAKnB,KAAL,CAAWC,WAAZ,EAAyB,KAAKD,KAAL,CAAWI,MAApC,CAArB,CAAlC,EAAqGV,CAAC,CAAC,IAAD,EAAO,KAAP,CAAtG,CAJA,CAFG,CAAR;AAOO;;AAtC6C;;AA0CxD,SAASyB,aAAT,CAAuBlB,WAAvB,EAAoCG,MAApC,EAA4C;AACxC,MAAIgB,IAAI,GAAGnB,WAAX;AACA,MAAIoB,KAAK,GAAG,CAAZ;AACAD,EAAAA,IAAI,CAACE,OAAL,CAAaP,UAAU,IAAG;AAAEM,IAAAA,KAAK,GAAGA,KAAK,GAAGN,UAAU,CAACG,MAA3B;AAAkC,GAA9D;AAEA,SAAOG,KAAK,GAACjB,MAAb;AACH","sourcesContent":["import React from 'react';\r\nconst h = React.createElement;\r\n\r\nexport default class SummaryView extends React.Component{\r\n   constructor(props){\r\n    super(props)\r\n        this.props = props;\r\n      this.state = {\r\n      ingredients: this.props.model.getShoppingList(), \r\n      guests: this.props.model.getNumberOfGuests()\r\n      }\r\n      \r\n   }\r\n   \r\n   update() {\r\n        \r\n    this.setState({\r\n        ingredients: this.props.model.getShoppingList(), \r\n        guests: this.props.model.getNumberOfGuests()\r\n    })\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n    this.props.model.addObserver(() => this.update());\r\n  }\r\n\r\n  // this is called when component is removed from the DOM\r\n  // good place to remove observer\r\n  componentWillUnmount() {\r\n    this.props.model.removeObserver(this)\r\n  }\r\n\r\nrender(){\r\n    return h(\"div\", h(\"span\" ,`Dinner for `+ this.state.guests + ` people`), \r\n        h(\"button\", {class:\"navigationbutton\" },\"Back to search\"),\r\n        h(\"table\", \r\n        h(\"th\" , h(\"td\", \" Ingredient\"), h(\"td\", \"supermarket aisle\"),h(\"td\", \"amount\")),\r\n        this.state.ingredients.map(ingredient=> h(\"tr\", h(\"td\" , ingredient.name), \r\n        h(\"td\",  ingredient.aisle) , h(\"td\",  ingredient.amount * this.state.guests))),\r\n        h(\"th\", h(\"td\", \"Total Price:\") , h(\"td\" , getTotalPrice(this.state.ingredients, this.state.guests)), h(\"td\", \"SEK\"))\r\n        ))}\r\n    \r\n}\r\n    \r\nfunction getTotalPrice(ingredients, guests) {\r\n    let list = ingredients;\r\n    let price = 0;\r\n    list.forEach(ingredient =>{ price = price + ingredient.amount});\r\n\r\n    return price*guests\r\n}\r\n"]},"metadata":{},"sourceType":"module"}