{"ast":null,"code":"import React from 'react';\nconst h = React.createElement;\nexport default class SummaryView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {\n      ingredients: this.props.model.getShoppingList(),\n      guests: this.props.model.getNumberOfGuests()\n    };\n  }\n\n  update() {\n    this.setState({\n      ingredients: this.props.model.getShoppingList(),\n      guests: this.props.model.getNumberOfGuests()\n    });\n  }\n\n  componentDidMount() {\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  render() {\n    return h(\"div\", {\n      class: \"mainContent\"\n    }, h(\"span\", `Dinner for ` + this.state.guests + ` people`), h(\"button\", {\n      class: \"navigationbutton\"\n    }, \"Back to search\"), h(\"table\", h(\"tr\", h(\"th\", null, \" Ingredient\"), h(\"th\", null, \"supermarket aisle\"), h(\"th\", null, \"amount\")), this.state.ingredients.map(ingredient => h(\"tr\", null, h(\"td\", this.state.ingredient.name), h(\"td\", null, ingredient.aisle), h(\"td\", null, ingredient.amount * this.state.guests))), h(\"tr\", null, h(\"th\", null, \"Total Price:\"), h(\"th\", null, this.getTotalPrice(this.state.ingredients, this.state.guests)), h(\"th\", null, \"SEK\"))));\n  }\n\n  getTotalPrice(ingredients, guests) {\n    let list = ingredients;\n    let price = 0;\n    list.forEach(ingredient => {\n      price = price + ingredient.amount;\n    });\n    return price * guests;\n  }\n\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/summary/summaryView.js"],"names":["React","h","createElement","SummaryView","Component","constructor","props","state","ingredients","model","getShoppingList","guests","getNumberOfGuests","update","setState","componentDidMount","addObserver","componentWillUnmount","removeObserver","render","class","map","ingredient","name","aisle","amount","getTotalPrice","list","price","forEach"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,CAAC,GAAGD,KAAK,CAACE,aAAhB;AAEA,eAAe,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAAyC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACI,SAAKA,KAAL,GAAaA,KAAb;AACF,SAAKC,KAAL,GAAa;AACbC,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,eAAjB,EADA;AAEbC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWG,KAAX,CAAiBG,iBAAjB;AAFK,KAAb;AAKF;;AAEDC,EAAAA,MAAM,GAAG;AAER,SAAKC,QAAL,CAAc;AACVN,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,eAAjB,EADH;AAEVC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWG,KAAX,CAAiBG,iBAAjB;AAFE,KAAd;AAID;;AAGHG,EAAAA,iBAAiB,GAAG;AAChB,SAAKT,KAAL,CAAWG,KAAX,CAAiBO,WAAjB,CAA6B,MAAM,KAAKH,MAAL,EAAnC;AACD,GAtBqD,CAwBtD;AACA;;;AACAI,EAAAA,oBAAoB,GAAG;AACrB,SAAKX,KAAL,CAAWG,KAAX,CAAiBS,cAAjB,CAAgC,IAAhC;AACD;;AAEHC,EAAAA,MAAM,GAAE;AACJ,WAAOlB,CAAC,CAAC,KAAD,EAAO;AAACmB,MAAAA,KAAK,EAAC;AAAP,KAAP,EAA8BnB,CAAC,CAAC,MAAD,EAAU,aAAD,GAAe,KAAKM,KAAL,CAAWI,MAA1B,GAAoC,SAA7C,CAA/B,EACJV,CAAC,CAAC,QAAD,EAAW;AAACmB,MAAAA,KAAK,EAAC;AAAP,KAAX,EAAuC,gBAAvC,CADG,EAEJnB,CAAC,CAAC,OAAD,EACDA,CAAC,CAAC,IAAD,EAAQA,CAAC,CAAC,IAAD,EAAO,IAAP,EAAa,aAAb,CAAT,EAAsCA,CAAC,CAAC,IAAD,EAAO,IAAP,EAAY,mBAAZ,CAAvC,EAAwEA,CAAC,CAAC,IAAD,EAAO,IAAP,EAAa,QAAb,CAAzE,CADA,EAED,KAAKM,KAAL,CAAWC,WAAX,CAAuBa,GAAvB,CAA2BC,UAAU,IAAGrB,CAAC,CAAC,IAAD,EAAM,IAAN,EAAYA,CAAC,CAAC,IAAD,EAAQ,KAAKM,KAAL,CAAWe,UAAX,CAAsBC,IAA9B,CAAb,EACzCtB,CAAC,CAAC,IAAD,EAAO,IAAP,EAAaqB,UAAU,CAACE,KAAxB,CADwC,EACPvB,CAAC,CAAC,IAAD,EAAO,IAAP,EAAaqB,UAAU,CAACG,MAAX,GAAoB,KAAKlB,KAAL,CAAWI,MAA5C,CADM,CAAzC,CAFC,EAIDV,CAAC,CAAC,IAAD,EAAM,IAAN,EAAYA,CAAC,CAAC,IAAD,EAAM,IAAN,EAAY,cAAZ,CAAb,EAA2CA,CAAC,CAAC,IAAD,EAAO,IAAP,EAAa,KAAKyB,aAAL,CAAmB,KAAKnB,KAAL,CAAWC,WAA9B,EAA2C,KAAKD,KAAL,CAAWI,MAAtD,CAAb,CAA5C,EAAyHV,CAAC,CAAC,IAAD,EAAM,IAAN,EAAY,KAAZ,CAA1H,CAJA,CAFG,CAAR;AAOO;;AAIXyB,EAAAA,aAAa,CAAClB,WAAD,EAAcG,MAAd,EAAsB;AAC/B,QAAIgB,IAAI,GAAGnB,WAAX;AACA,QAAIoB,KAAK,GAAG,CAAZ;AACAD,IAAAA,IAAI,CAACE,OAAL,CAAaP,UAAU,IAAG;AAAEM,MAAAA,KAAK,GAAGA,KAAK,GAAGN,UAAU,CAACG,MAA3B;AAAkC,KAA9D;AAEA,WAAOG,KAAK,GAACjB,MAAb;AACH;;AAhDuD","sourcesContent":["import React from 'react';\r\nconst h = React.createElement;\r\n\r\nexport default class SummaryView extends React.Component{\r\n   constructor(props){\r\n    super(props)\r\n        this.props = props;\r\n      this.state = {\r\n      ingredients: this.props.model.getShoppingList(), \r\n      guests: this.props.model.getNumberOfGuests()\r\n      }\r\n       \r\n   }\r\n   \r\n   update() {\r\n        \r\n    this.setState({\r\n        ingredients: this.props.model.getShoppingList(), \r\n        guests: this.props.model.getNumberOfGuests()\r\n    })\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n    this.props.model.addObserver(() => this.update());\r\n  }\r\n\r\n  // this is called when component is removed from the DOM\r\n  // good place to remove observer\r\n  componentWillUnmount() {\r\n    this.props.model.removeObserver(this)\r\n  }\r\n\r\nrender(){\r\n    return h(\"div\",{class:\"mainContent\"} ,h(\"span\" ,`Dinner for `+ this.state.guests + ` people`), \r\n        h(\"button\", {class:\"navigationbutton\" },\"Back to search\"),\r\n        h(\"table\", \r\n        h(\"tr\" , h(\"th\", null, \" Ingredient\"), h(\"th\", null,\"supermarket aisle\"),h(\"th\", null, \"amount\")),\r\n        this.state.ingredients.map(ingredient=> h(\"tr\",null, h(\"td\" , this.state.ingredient.name), \r\n        h(\"td\", null, ingredient.aisle) , h(\"td\", null, ingredient.amount * this.state.guests))),\r\n        h(\"tr\",null, h(\"th\",null, \"Total Price:\") , h(\"th\" ,null, this.getTotalPrice(this.state.ingredients, this.state.guests)), h(\"th\",null, \"SEK\"))\r\n        ))}\r\n    \r\n\r\n    \r\ngetTotalPrice(ingredients, guests) {\r\n    let list = ingredients;\r\n    let price = 0;\r\n    list.forEach(ingredient =>{ price = price + ingredient.amount});\r\n\r\n    return price*guests\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}