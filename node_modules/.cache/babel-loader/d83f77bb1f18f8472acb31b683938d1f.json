{"ast":null,"code":"import React from 'react';\nconst h = React.createElement;\nexport default class SearchView extends React.Component {\n  constructor(model) {\n    this.model = model;\n  }\n\n  render() {\n    return h(\"div\", this.root.innerHTML = h(\"div\", null, this.textControl = h(\"input\"), null, // free text search box\n    this.typeControl = h(\"select\", h(\"option\", {\n      value: \"\"\n    }, \"Choose:\"), // empty first choice\n    // the rest of the SELECT children are generated from an array:\n    [\"starter\", \"main course\", \"dessert\"].map(opt => h(\"option\", opt))), h(\"button\", \"Search!\"), // search button\n    h(\"button\", {\n      class: \"navigationbutton\",\n      onclick: this.doneCallback,\n      label: this.doneMessage\n    }, \"Summary\")), // end of search box\n    this.resultDiv = h(\"div\") // empty div for search results\n    ); // initially populate the resultDiv with nice dish images\n\n    this.updateSearchResults();\n  }\n\n  createSpinner() {\n    return h(\"img\", {\n      class: spinner,\n      src: \"./search/spinner.gif\"\n    });\n  }\n\n  createDishDisplay(dish) {\n    return h(\"span\", {\n      class: \"food\",\n      id: dish.id,\n      title: dish.title\n    }, h(\"span\", dish.title), h(\"img\", {\n      src: \"https://spoonacular.com/recipeImages/\" + dish.image\n    }));\n  }\n\n  updateSearchResults() {\n    renderPromise(this.model.searchDishes(this.typeControl.value, this.textControl.value), dishes => h(\"div\", dishes.map(dish => this.createDishDisplay(dish))), this.resultDiv);\n  }\n\n  isDishRepresentation(clickedNode) {\n    if (clickedNode.className.includes(\"food\") == true) {\n      return clickedNode.getAttribute(\"id\");\n    }\n\n    if (clickedNode.parentElement.className.includes(\"food\") == true) {\n      return clickedNode.parentElement.getAttribute(\"id\");\n    } else {\n      return null;\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/johne/Desktop/IPROG/tutorialweek4/dinnerplanner/dinnerplanner/src/search/searchView.js"],"names":["React","h","createElement","SearchView","Component","constructor","model","render","root","innerHTML","textControl","typeControl","value","map","opt","class","onclick","doneCallback","label","doneMessage","resultDiv","updateSearchResults","createSpinner","spinner","src","createDishDisplay","dish","id","title","image","renderPromise","searchDishes","dishes","isDishRepresentation","clickedNode","className","includes","getAttribute","parentElement"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,CAAC,GAAGD,KAAK,CAACE,aAAhB;AAEA,eAAe,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAwC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAEf,SAAKA,KAAL,GAAWA,KAAX;AACH;;AAEDC,EAAAA,MAAM,GAAE;AAGJ,WAAON,CAAC,CAAC,KAAD,EACR,KAAKO,IAAL,CAAUC,SAAV,GAAqBR,CAAC,CAAC,KAAD,EAAQ,IAAR,EAClB,KAAKS,WAAL,GAAkBT,CAAC,CAAC,OAAD,CADD,EACY,IADZ,EACkB;AACpC,SAAKU,WAAL,GAAkBV,CAAC,CAAC,QAAD,EACnBA,CAAC,CAAC,QAAD,EAAW;AAACW,MAAAA,KAAK,EAAC;AAAP,KAAX,EAAuB,SAAvB,CADkB,EAC6C;AAChE;AACA,KAAC,SAAD,EAAY,aAAZ,EAA2B,SAA3B,EAAsCC,GAAtC,CAA0CC,GAAG,IAAGb,CAAC,CAAC,QAAD,EAAWa,GAAX,CAAjD,CAHmB,CAFD,EAQlBb,CAAC,CAAC,QAAD,EAAW,SAAX,CARiB,EAQM;AAExBA,IAAAA,CAAC,CAAC,QAAD,EAAU;AAACc,MAAAA,KAAK,EAAC,kBAAP;AAA2BC,MAAAA,OAAO,EAAC,KAAKC,YAAxC;AAAsDC,MAAAA,KAAK,EAAC,KAAKC;AAAjE,KAAV,EAAyF,SAAzF,CAViB,CADd,EAWoG;AAE5G,SAAKC,SAAL,GAAgBnB,CAAC,CAAC,KAAD,CAbT,CAaiB;AAbjB,KAAR,CAHI,CAkBH;;AACA,SAAKoB,mBAAL;AACJ;;AAEDC,EAAAA,aAAa,GAAE;AACX,WAAOrB,CAAC,CAAC,KAAD,EAAQ;AAAEc,MAAAA,KAAK,EAAEQ,OAAT;AAAmBC,MAAAA,GAAG,EAAC;AAAvB,KAAR,CAAR;AACH;;AAEDC,EAAAA,iBAAiB,CAACC,IAAD,EAAM;AACnB,WAAOzB,CAAC,CAAC,MAAD,EAAQ;AAAEc,MAAAA,KAAK,EAAC,MAAR;AAAgBY,MAAAA,EAAE,EAAED,IAAI,CAACC,EAAzB;AAA6BC,MAAAA,KAAK,EAAEF,IAAI,CAACE;AAAzC,KAAR,EAA0D3B,CAAC,CAAC,MAAD,EAASyB,IAAI,CAACE,KAAd,CAA3D,EAAiF3B,CAAC,CAAC,KAAD,EAAQ;AAACuB,MAAAA,GAAG,EAAE,0CAA0CE,IAAI,CAACG;AAArD,KAAR,CAAlF,CAAR;AACH;;AAEDR,EAAAA,mBAAmB,GAAE;AACjBS,IAAAA,aAAa,CACT,KAAKxB,KAAL,CAAWyB,YAAX,CAAwB,KAAKpB,WAAL,CAAiBC,KAAzC,EAAgD,KAAKF,WAAL,CAAiBE,KAAjE,CADS,EAEToB,MAAM,IAAG/B,CAAC,CAAC,KAAD,EAAQ+B,MAAM,CAACnB,GAAP,CAAWa,IAAI,IAAI,KAAKD,iBAAL,CAAuBC,IAAvB,CAAnB,CAAR,CAFD,EAGT,KAAKN,SAHI,CAAb;AAOH;;AAEDa,EAAAA,oBAAoB,CAACC,WAAD,EAAa;AAG7B,QAAGA,WAAW,CAACC,SAAZ,CAAsBC,QAAtB,CAA+B,MAA/B,KAA0C,IAA7C,EAAmD;AAC/C,aAAOF,WAAW,CAACG,YAAZ,CAAyB,IAAzB,CAAP;AAEH;;AAED,QAAIH,WAAW,CAACI,aAAZ,CAA0BH,SAA1B,CAAoCC,QAApC,CAA6C,MAA7C,KAAwD,IAA5D,EAAiE;AACzD,aAAOF,WAAW,CAACI,aAAZ,CAA0BD,YAA1B,CAAuC,IAAvC,CAAP;AACP,KAFD,MAII;AAEC,aAAO,IAAP;AACJ;AAGJ;;AAhEkD","sourcesContent":["import React from 'react';\nconst h = React.createElement;\n\nexport default class SearchView extends React.Component{\n    constructor(model ){\n        \n        this.model=model;\n    }\n\n    render(){\n        \n\n        return h(\"div\",  \n        this.root.innerHTML= h(\"div\", null,\n            this.textControl= h(\"input\"), null, // free text search box\n            this.typeControl= h(\"select\",  \n            h(\"option\", {value:\"\"}, \"Choose:\"),                             // empty first choice\n            // the rest of the SELECT children are generated from an array:\n            [\"starter\", \"main course\", \"dessert\"].map(opt=> h(\"option\", opt))\n            ),  \n\n            h(\"button\", \"Search!\"), // search button\n            \n            h(\"button\",{class:\"navigationbutton\", onclick:this.doneCallback, label:this.doneMessage}, \"Summary\" )), // end of search box\n            \n        this.resultDiv= h(\"div\") // empty div for search results\n        )\n         // initially populate the resultDiv with nice dish images\n         this.updateSearchResults();\n    }\n    \n    createSpinner(){\n        return h(\"img\", { class: spinner , src:\"./search/spinner.gif\"});\n    }\n\n    createDishDisplay(dish){\n        return h(\"span\",{ class:\"food\", id: dish.id, title: dish.title }, h(\"span\", dish.title), h(\"img\", {src: \"https://spoonacular.com/recipeImages/\" + dish.image}));\n    }\n\n    updateSearchResults(){\n        renderPromise(\n            this.model.searchDishes(this.typeControl.value, this.textControl.value), \n            dishes=> h(\"div\", dishes.map(dish => this.createDishDisplay(dish))),\n            this.resultDiv\n        )\n\n          \n    } \n    \n    isDishRepresentation(clickedNode){\n        \n        \n        if(clickedNode.className.includes(\"food\") == true) {\n            return clickedNode.getAttribute(\"id\")\n            \n        }\n\n        if( clickedNode.parentElement.className.includes(\"food\") == true){  \n                return clickedNode.parentElement.getAttribute(\"id\")\n        }\n\n        else{\n            \n             return null\n        }\n    \n\n    }\n\n\n}\n\n"]},"metadata":{},"sourceType":"module"}