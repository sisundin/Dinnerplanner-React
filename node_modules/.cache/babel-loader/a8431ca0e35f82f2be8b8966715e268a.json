{"ast":null,"code":"// js/summary/summaryView.js\nimport React from 'react';\nconst h = React.createElement;\nexport default class SidebarView extends React.Component {\n  constructor(model) {\n    super();\n    this.model = model;\n    model.addObserver(x => this.update(x));\n    this.menuprice = 0;\n    this.dishtypesort = {\n      \"starter\": 1,\n      \"main course\": 2,\n      \"dessert\": 3\n    };\n  }\n\n  render() {\n    this.menuprice = 0;\n    return h(\"div\", null, h(\"button\", {\n      onClick: e => this.model.setNumberOfGuests(this.model.getNumberOfGuests() - 1)\n    }, \"-\"), h(\"span\", null, this.model.getNumberOfGuests()), h(\"button\", {\n      onClick: e => this.model.setNumberOfGuests(this.model.getNumberOfGuests() + 1)\n    }, \"+\"), h(\"div\", null, h(\"table\", h(\"th\", null, h(\"td\", null, \"Dish name\"), h(\"td\", null, \"Dish price (SEK)\")), this.model.getMenu().map(dish => h(\"tr\", null, h(\"td\", null, dish.title), h(\"td\", null, this.getdishprice(dish)), h(\"button\", {\n      onClick: event => {\n        this.onDeleteClicked(dish.id);\n      },\n      id: dish.id\n    }, \"delete\"))), h(\"tr\", null, h(\"td\", null, \"Total dinner price: \"), h(\"td\", null, this.menuprice)))));\n  }\n\n  getdishprice(dish) {\n    this.dishprice = sum(dish.extendedIngredients) * this.model.getNumberOfGuests();\n    this.menuprice = this.menuprice + this.dishprice;\n    return this.dishprice;\n  }\n\n}\n\nfunction sum(input) {\n  if (toString.call(input) !== \"[object Array]\") return false;\n  var total = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    if (isNaN(input[i].amount)) {\n      continue;\n    }\n\n    total += Number(input[i].amount);\n  }\n\n  return total;\n}","map":{"version":3,"sources":["C:/Users/johne/Desktop/IPROG/tutorialweek4/dinnerplanner/dinnerplanner/src/sidebar/sidebarView.js"],"names":["React","h","createElement","SidebarView","Component","constructor","model","addObserver","x","update","menuprice","dishtypesort","render","onClick","e","setNumberOfGuests","getNumberOfGuests","getMenu","map","dish","title","getdishprice","event","onDeleteClicked","id","dishprice","sum","extendedIngredients","input","toString","call","total","i","length","isNaN","amount","Number"],"mappings":"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","sourcesContent":["// js/summary/summaryView.js\r\nimport React from 'react';\r\nconst h = React.createElement;\r\n\r\n\r\n \r\n\r\nexport default class SidebarView extends React.Component{\r\n    constructor(model){\r\n        super()\r\n        this.model=model;\r\n        model.addObserver(x=>this.update(x));\r\n        this.menuprice = 0;\r\n        this.dishtypesort= {\"starter\": 1 , \"main course\" : 2 , \"dessert\": 3 };\r\n        \r\n    }\r\n    render(){\r\n        this.menuprice = 0;\r\n        return h(\"div\",null,\r\n        h(\"button\", {onClick: e=> this.model.setNumberOfGuests(this.model.getNumberOfGuests() -1)}, \"-\"),\r\n        h(\"span\",null, this.model.getNumberOfGuests()),\r\n        h(\"button\", {onClick: e=> this.model.setNumberOfGuests(this.model.getNumberOfGuests() +1)}, \"+\"),\r\n        h(\"div\",null,\r\n        h(\"table\", \r\n        h(\"th\" ,null, h(\"td\",null, \"Dish name\"), h(\"td\",null, \"Dish price (SEK)\")),\r\n            this.model.getMenu().map(dish=> h(\"tr\",null, h(\"td\", null, dish.title ), h(\"td\", null, this.getdishprice(dish)),h(\"button\",{ onClick: event => {this.onDeleteClicked( dish.id)} , id: dish.id}, \"delete\"))),\r\n        h(\"tr\",null, h(\"td\",null, \"Total dinner price: \"), h(\"td\",null, this.menuprice))\r\n        )));\r\n        \r\n    }\r\n\r\n    getdishprice(dish){\r\n        this.dishprice = sum(dish.extendedIngredients) * this.model.getNumberOfGuests();\r\n        this.menuprice = this.menuprice + this.dishprice;\r\n        return this.dishprice\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction sum(input){\r\n             \r\n    if (toString.call(input) !== \"[object Array]\")\r\n       return false;\r\n         \r\n               var total =  0;\r\n               for(var i=0;i<input.length;i++)\r\n                 {                  \r\n                   if(isNaN(input[i].amount)){\r\n                   continue;\r\n                    }\r\n                     total += Number(input[i].amount);\r\n                  }\r\n                return total;\r\n               }"]},"metadata":{},"sourceType":"module"}