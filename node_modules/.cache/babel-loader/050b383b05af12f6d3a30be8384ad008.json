{"ast":null,"code":"var _jsxFileName = \"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js\";\nimport React from 'react';\nimport renderPromise from '../otil/renderPromise.js';\nimport DishDetailsView from './detailsView';\nimport { useParams } from \"react-router-dom\";\nconst h = React.createElement;\n\nfunction getParams() {\n  const {\n    handle\n  } = this.props.match.params;\n  return ({\n    id\n  } = useParams);\n}\n\nexport default class DishDetailsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.currentDish = \"\";\n    this.state = {}; //this.onAdd = onAdd;\n    //this.onAddCallback = onAdd[0];\n    //this.onAddLabel = onAdd[1];\n    //this.onCancelCallback=onCancel[0];\n    //this.onCancelLabel=onCancel[1];    \n  }\n\n  update() {\n    this.updateDishdisplay(this.currentDish);\n    this.setState({});\n    console.log(\"statechange\");\n    console.log(this.currentDish);\n  }\n\n  componentDidMount() {\n    console.log(\"Details was mountet\");\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  createDishDisplay(dish) {\n    return React.createElement(DishDetailsView, {\n      dish: dish,\n      addControl: [() => {\n        this.props.model.addToMenu(dish);\n      }, this.onAddLabel],\n      onCancel: [() => {\n        document.getElementById(\"details\").classList.add('hide');\n        document.getElementById(\"search\").classList.remove('hide');\n      }, this.onCancelLable],\n      price: this.props.model.getDishPrice(dish),\n      guests: this.props.model.getNumberOfGuests(),\n      inMenu: this.props.model.dishInMenu(dish),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return this.updateDishdisplay();\n  }\n\n  updateDishdisplay() {\n    this.currentDish = getParams();\n    return renderPromise(this.props.model.getDishDetails(this.currentDish), dish => h(\"div\", null, this.createDishDisplay(dish)), document.getElementById(\"dishdetailscontainer\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js"],"names":["React","renderPromise","DishDetailsView","useParams","h","createElement","getParams","handle","props","match","params","id","DishDetailsContainer","Component","constructor","currentDish","state","update","updateDishdisplay","setState","console","log","componentDidMount","model","addObserver","componentWillUnmount","removeObserver","createDishDisplay","dish","addToMenu","onAddLabel","document","getElementById","classList","add","remove","onCancelLable","getDishPrice","getNumberOfGuests","dishInMenu","render","getDishDetails"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA4B,eAA5B;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,MAAMC,CAAC,GAAGJ,KAAK,CAACK,aAAhB;;AAEA,SAASC,SAAT,GAAoB;AACZ,QAAM;AAAEC,IAAAA;AAAF,MAAa,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAApC;AACA,UAAO;AAACC,IAAAA;AAAD,MAAOR,SAAd;AAEP;;AAED,eAAe,MAAMS,oBAAN,SAAmCZ,KAAK,CAACa,SAAzC,CAAkD;AACzDC,EAAAA,WAAW,CAACN,KAAD,EAAO;AACV,UAAMA,KAAN;AACA,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKO,WAAL,GAAmB,EAAnB;AAEA,SAAKC,KAAL,GAAa,EAAb,CALU,CAQ1B;AACI;AACA;AACA;AACA;AAGK;;AAEDC,EAAAA,MAAM,GAAG;AACT,SAAKC,iBAAL,CAAuB,KAAKH,WAA5B;AACA,SAAKI,QAAL,CAAc,EAAd;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,WAAjB;AACiB;;AAEjBO,EAAAA,iBAAiB,GAAG;AACZF,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,SAAKb,KAAL,CAAWe,KAAX,CAAiBC,WAAjB,CAA6B,MAAM,KAAKP,MAAL,EAAnC;AACiB,GA/BgC,CAiC3D;AACA;;;AACEQ,EAAAA,oBAAoB,GAAG;AACf,SAAKjB,KAAL,CAAWe,KAAX,CAAiBG,cAAjB,CAAgC,IAAhC;AACkB;;AAE1BC,EAAAA,iBAAiB,CAACC,IAAD,EAAM;AAEnB,WAAO,oBAAC,eAAD;AACH,MAAA,IAAI,EAAIA,IADL;AAEH,MAAA,UAAU,EAAI,CAAE,MAAI;AAAE,aAAKpB,KAAL,CAAWe,KAAX,CAAiBM,SAAjB,CAA2BD,IAA3B;AAET,OAFC,EAEC,KAAKE,UAFN,CAFX;AAKH,MAAA,QAAQ,EAAG,CAAE,MAAI;AACDC,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,GAA7C,CAAiD,MAAjD;AACAH,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,CAA4CE,MAA5C,CAAmD,MAAnD;AAEH,OAJF,EAII,KAAKC,aAJT,CALR;AAUH,MAAA,KAAK,EAAG,KAAK5B,KAAL,CAAWe,KAAX,CAAiBc,YAAjB,CAA8BT,IAA9B,CAVL;AAWH,MAAA,MAAM,EAAG,KAAKpB,KAAL,CAAWe,KAAX,CAAiBe,iBAAjB,EAXN;AAYH,MAAA,MAAM,EAAG,KAAK9B,KAAL,CAAWe,KAAX,CAAiBgB,UAAjB,CAA4BX,IAA5B,CAZN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAc6B;;AAEjCY,EAAAA,MAAM,GAAE;AACA,WAAO,KAAKtB,iBAAL,EAAP;AACP;;AAEPA,EAAAA,iBAAiB,GAAE;AACb,SAAKH,WAAL,GAAmBT,SAAS,EAA5B;AACA,WAAOL,aAAa,CAAC,KAAKO,KAAL,CAAWe,KAAX,CAAiBkB,cAAjB,CAAgC,KAAK1B,WAArC,CAAD,EACZa,IAAI,IAAGxB,CAAC,CAAC,KAAD,EAAQ,IAAR,EAAc,KAAKuB,iBAAL,CAAuBC,IAAvB,CAAd,CADI,EAEZG,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAFY,CAApB;AAGL;;AAlE8D","sourcesContent":["import React from 'react';\r\nimport renderPromise from '../otil/renderPromise.js'\r\nimport DishDetailsView from './detailsView';\r\nimport {useParams} from \"react-router-dom\";\r\nconst h = React.createElement;\r\n\r\nfunction getParams(){\r\n        const { handle } = this.props.match.params\r\n        return {id} = useParams\r\n\r\n}\r\n\r\nexport default class DishDetailsContainer extends React.Component{\r\n        constructor(props){\r\n                super(props) \r\n                this.props = props;\r\n                this.currentDish = \"\";\r\n                \r\n                this.state = {\r\n                         \r\n                                };\r\n//this.onAdd = onAdd;\r\n    //this.onAddCallback = onAdd[0];\r\n    //this.onAddLabel = onAdd[1];\r\n    //this.onCancelCallback=onCancel[0];\r\n    //this.onCancelLabel=onCancel[1];    \r\n                \r\n\r\n        }\r\n        \r\n        update() {\r\n        this.updateDishdisplay(this.currentDish);\r\n        this.setState({\r\n                \r\n                \r\n        }); \r\n        console.log(\"statechange\")\r\n        console.log(this.currentDish)\r\n                        }\r\n    \r\n        componentDidMount() {\r\n                console.log(\"Details was mountet\")\r\n                this.props.model.addObserver(() => this.update());\r\n                                }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n        componentWillUnmount() {\r\n                this.props.model.removeObserver(this);\r\n                                 }\r\n\r\n        createDishDisplay(dish){ \r\n                \r\n            return <DishDetailsView \r\n                dish = {dish} \r\n                addControl = {[ ()=>{ this.props.model.addToMenu(dish)\r\n                                    \r\n                            }, this.onAddLabel]}\r\n                onCancel= {[ ()=>{\r\n                                document.getElementById(\"details\").classList.add('hide')\r\n                                document.getElementById(\"search\").classList.remove('hide')\r\n                                    \r\n                            }, this.onCancelLable]}\r\n                price= {this.props.model.getDishPrice(dish)}\r\n                guests= {this.props.model.getNumberOfGuests()}\r\n                inMenu= {this.props.model.dishInMenu(dish)}\r\n                />\r\n                                        }\r\n                                        \r\n        render(){\r\n                return this.updateDishdisplay()\r\n        }\r\n\r\n  updateDishdisplay(){\r\n        this.currentDish = getParams();\r\n        return renderPromise(this.props.model.getDishDetails(this.currentDish), \r\n                dish=> h(\"div\", null, this.createDishDisplay(dish)),\r\n                document.getElementById(\"dishdetailscontainer\"))\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}