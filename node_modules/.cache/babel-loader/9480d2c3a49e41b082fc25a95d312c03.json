{"ast":null,"code":"import _slicedToArray from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import spin from'./spinner.gif';var h=React.createElement;export default function RenderPromise(_ref){var promise=_ref.promise,renderData=_ref.renderData;debugger;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];React.useEffect(function(){setData(null);promise.then(function(x){return setData(x);}).catch(function(err){return setData({error:err});});},[promise]);// TODO: return cancel promise on unmount\nreturn data===null&&h(\"img\",{src:spin})||data!==null&&!data.error&&h(renderData,{data:data})||data!==null&&data.error&&h(\"div\",{},data.error.toString());};","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/otil/renderPromise.js"],"names":["React","spin","h","createElement","RenderPromise","promise","renderData","useState","data","setData","useEffect","then","x","catch","err","error","src","toString"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CAEA,GAAMC,CAAAA,CAAC,CAAGF,KAAK,CAACG,aAAhB,CAEA,cAAe,SAASC,CAAAA,aAAT,MAA6C,IAArBC,CAAAA,OAAqB,MAArBA,OAAqB,CAAZC,UAAY,MAAZA,UAAY,CACxD,SADwD,oBAElCN,KAAK,CAACO,QAAN,CAAe,IAAf,CAFkC,oDAEjDC,IAFiD,qBAE3CC,OAF2C,qBAGxDT,KAAK,CAACU,SAAN,CAAgB,UAAI,CAACD,OAAO,CAAC,IAAD,CAAP,CACfJ,OAAO,CAACM,IAAR,CAAa,SAAAC,CAAC,QAAEH,CAAAA,OAAO,CAACG,CAAD,CAAT,EAAd,EACQC,KADR,CACc,SAAAC,GAAG,QAAEL,CAAAA,OAAO,CAAC,CAACM,KAAK,CAACD,GAAP,CAAD,CAAT,EADjB,EAEL,CAHD,CAGG,CAACT,OAAD,CAHH,EAGgB;AAEhB,MAASG,CAAAA,IAAI,GAAG,IAAP,EAAeN,CAAC,CAAC,KAAD,CAAQ,CAACc,GAAG,CAACf,IAAL,CAAR,CAAjB,EACCO,IAAI,GAAI,IAAR,EAAgB,CAACA,IAAI,CAACO,KAAtB,EAA+Bb,CAAC,CAACI,UAAD,CAAa,CAACE,IAAI,CAAJA,IAAD,CAAb,CADjC,EAECA,IAAI,GAAI,IAAR,EAAgBA,IAAI,CAACO,KAArB,EAA8Bb,CAAC,CAAC,KAAD,CAAQ,EAAR,CAAYM,IAAI,CAACO,KAAL,CAAWE,QAAX,EAAZ,CAFxC,CAGF","sourcesContent":["import React from 'react';\n\nimport spin from './spinner.gif'\n\nconst h = React.createElement;\n\nexport default function RenderPromise({promise, renderData}){\n    debugger;\n    const [data, setData]=React.useState(null);\n    React.useEffect(()=>{setData(null);\n          promise.then(x=>setData(x))\n                 .catch(err=>setData({error:err}));\n    }, [promise]);  // TODO: return cancel promise on unmount\n \n    return  (data===null && h(\"img\", {src:spin}))\n         || (data !==null && !data.error && h(renderData, {data}))\n         || (data !==null && data.error && h(\"div\", {}, data.error.toString()));\n };\n \n\n\n\n \n "]},"metadata":{},"sourceType":"module"}