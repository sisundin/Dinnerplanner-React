{"ast":null,"code":"import React from 'react';\nimport renderPromise from '../otil/renderPromise.js';\nimport DishDetailsView from './detailsjsx';\nexport default class DishDetailsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.root = document.getElementById('details');\n    this.state = {}; //this.onAdd = onAdd;\n    //this.onAddCallback = onAdd[0];\n    //this.onAddLabel = onAdd[1];\n    //this.onCancelCallback=onCancel[0];\n    //this.onCancelLabel=onCancel[1];\n\n    this.currentDish = \"\";\n    this.props.model.addObserver(() => this.currentDish ? this.createDishDisplay(this.currentDish).render(this.root) : null);\n  }\n\n  update() {\n    this.setState({});\n  }\n\n  componentDidMount() {\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  createDishDisplay(dish) {\n    return DishDetailsView({\n      dish: dish,\n      addControl: [() => {\n        this.props.model.addToMenu(dish);\n        this.onAddCallback();\n      }, this.onAddLabel],\n      onCancel: [() => {\n        this.onCancelCallback();\n      }, this.onCancelLable],\n      price: this.props.model.getDishPrice(dish),\n      guests: this.props.model.getNumberOfGuests(),\n      inMenu: this.props.model.dishInMenu(dish)\n    });\n  }\n\n  render(id) {\n    return renderPromise(this.props.model.getDishDetails(id), dish => {\n      return this.currentDish = dish, this.createDishDisplay(this.currentDish);\n    }, this.root);\n  }\n\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js"],"names":["React","renderPromise","DishDetailsView","DishDetailsContainer","Component","constructor","props","root","document","getElementById","state","currentDish","model","addObserver","createDishDisplay","render","update","setState","componentDidMount","componentWillUnmount","removeObserver","dish","addControl","addToMenu","onAddCallback","onAddLabel","onCancel","onCancelCallback","onCancelLable","price","getDishPrice","guests","getNumberOfGuests","inMenu","dishInMenu","id","getDishDetails"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA4B,cAA5B;AAEA,eAAe,MAAMC,oBAAN,SAAmCH,KAAK,CAACI,SAAzC,CAAkD;AACzDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACV,UAAMA,KAAN;AACA,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAWC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAX;AACA,SAAKC,KAAL,GAAa,EAAb,CAJU,CAOtB;AACA;AACA;AACA;AACA;;AACY,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKL,KAAL,CAAWM,KAAX,CAAiBC,WAAjB,CAA6B,MAAK,KAAKF,WAAL,GAAiB,KAAKG,iBAAL,CAAuB,KAAKH,WAA5B,EAAyCI,MAAzC,CAAgD,KAAKR,IAArD,CAAjB,GAA4E,IAA9G;AACiB;;AAEzBS,EAAAA,MAAM,GAAG;AACT,SAAKC,QAAL,CAAc,EAAd;AAGiB;;AAEjBC,EAAAA,iBAAiB,GAAG;AACZ,SAAKZ,KAAL,CAAWM,KAAX,CAAiBC,WAAjB,CAA6B,MAAM,KAAKG,MAAL,EAAnC;AACiB,GAzBgC,CA2B3D;AACA;;;AACEG,EAAAA,oBAAoB,GAAG;AACf,SAAKb,KAAL,CAAWM,KAAX,CAAiBQ,cAAjB,CAAgC,IAAhC;AACkB;;AAE1BN,EAAAA,iBAAiB,CAACO,IAAD,EAAM;AACnB,WAAOnB,eAAe,CAAE;AACpBmB,MAAAA,IAAI,EAAEA,IADc;AAEpBC,MAAAA,UAAU,EAAE,CAAE,MAAI;AAAE,aAAKhB,KAAL,CAAWM,KAAX,CAAiBW,SAAjB,CAA2BF,IAA3B;AACA,aAAKG,aAAL;AACP,OAFD,EAEG,KAAKC,UAFR,CAFQ;AAKpBC,MAAAA,QAAQ,EAAE,CAAE,MAAI;AACI,aAAKC,gBAAL;AACP,OAFH,EAEK,KAAKC,aAFV,CALU;AAQpBC,MAAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWM,KAAX,CAAiBkB,YAAjB,CAA8BT,IAA9B,CARa;AASpBU,MAAAA,MAAM,EAAE,KAAKzB,KAAL,CAAWM,KAAX,CAAiBoB,iBAAjB,EATY;AAUpBC,MAAAA,MAAM,EAAE,KAAK3B,KAAL,CAAWM,KAAX,CAAiBsB,UAAjB,CAA4Bb,IAA5B;AAVY,KAAF,CAAtB;AAY6B;;AAGtCN,EAAAA,MAAM,CAACoB,EAAD,EAAI;AACR,WAAOlC,aAAa,CAAC,KAAKK,KAAL,CAAWM,KAAX,CAAiBwB,cAAjB,CAAgCD,EAAhC,CAAD,EACdd,IAAI,IAAK;AAAC,aAAO,KAAKV,WAAL,GAAmBU,IAAnB,EACZ,KAAKP,iBAAL,CAAuB,KAAKH,WAA5B,CADK;AACoC,KAFhC,EAGd,KAAKJ,IAHS,CAApB;AAIF;;AAtD8D","sourcesContent":["import React from 'react';\r\nimport renderPromise from '../otil/renderPromise.js'\r\nimport DishDetailsView from './detailsjsx';\r\n\r\nexport default class DishDetailsContainer extends React.Component{\r\n        constructor(props){\r\n                super(props) \r\n                this.props = props;\r\n                this.root= document.getElementById('details');\r\n                this.state = {\r\n\r\n                                };\r\n    //this.onAdd = onAdd;\r\n    //this.onAddCallback = onAdd[0];\r\n    //this.onAddLabel = onAdd[1];\r\n    //this.onCancelCallback=onCancel[0];\r\n    //this.onCancelLabel=onCancel[1];\r\n                this.currentDish = \"\";\r\n                this.props.model.addObserver(()=> this.currentDish?this.createDishDisplay(this.currentDish).render(this.root):null); \r\n                                }\r\n        \r\n        update() {\r\n        this.setState({\r\n                \r\n        })\r\n                        }\r\n    \r\n        componentDidMount() {\r\n                this.props.model.addObserver(() => this.update());\r\n                                }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n        componentWillUnmount() {\r\n                this.props.model.removeObserver(this)\r\n                                 }\r\n\r\n        createDishDisplay(dish){ \r\n            return DishDetailsView( { \r\n                dish: dish, \r\n                addControl: [ ()=>{ this.props.model.addToMenu(dish)\r\n                                    this.onAddCallback()\r\n                            }, this.onAddLabel],\r\n                onCancel: [ ()=>{   \r\n                                    this.onCancelCallback()\r\n                            }, this.onCancelLable],\r\n                price: this.props.model.getDishPrice(dish),\r\n                guests: this.props.model.getNumberOfGuests(),\r\n                inMenu: this.props.model.dishInMenu(dish)\r\n                                        });\r\n                                        }\r\n\r\n\r\n   render(id){  \r\n     return renderPromise(this.props.model.getDishDetails(id), \r\n           dish =>  {return this.currentDish = dish, \r\n                this.createDishDisplay(this.currentDish)},\r\n           this.root)\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}