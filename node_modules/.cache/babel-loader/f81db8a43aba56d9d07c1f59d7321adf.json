{"ast":null,"code":"import _classCallCheck from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/inherits\";// js/summary/summaryView.js\nimport React from'react';var h=React.createElement;var SidebarView=/*#__PURE__*/function(_React$Component){_inherits(SidebarView,_React$Component);function SidebarView(props){var _this;_classCallCheck(this,SidebarView);_this=_possibleConstructorReturn(this,_getPrototypeOf(SidebarView).call(this,props));_this.props=props;// we put on state the properties we want to use and modify in the component\n_this.state={};_this.menuprice=0;_this.dishtypesort={\"starter\":1,\"main course\":2,\"dessert\":3};return _this;}_createClass(SidebarView,[{key:\"add\",value:function add(value){if(value===-1&&this.props.model.getNumberOfGuests()===1){}else{this.props.model.setNumberOfGuests(this.props.model.getNumberOfGuests()+value);}}},{key:\"removeDish\",value:function removeDish(id){this.props.model.removeFromMenu(id);}},{key:\"update\",value:function update(){this.setState({});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.model.addObserver(function(){return _this2.update();});}// this is called when component is removed from the DOM\n// good place to remove observer\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.model.removeObserver(this);}},{key:\"render\",value:function render(){var _this3=this;this.menuprice=0;return h(\"div\",null,h(\"button\",{onClick:function onClick(){return _this3.add(-1);}},\"-\"),h(\"span\",null,this.props.model.getNumberOfGuests()),h(\"button\",{onClick:function onClick(){return _this3.add(1);}},\"+\"),h(\"div\",null,h(\"table\",null,h(\"tr\",null,h(\"th\",null,\"Dish name\"),h(\"th\",null,\"Dish price (SEK)\")),this.props.model.getMenu().sort(function(a,b){if(a.dishTypes.includes(\"starter\")){return-1;}else if(a.dishTypes.includes(\"main course\")&&b.dishTypes.includes(\"dessert\")){return-1;}else if(a.dishTypes.includes(\"dessert\")){return 1;}return null;}).map(function(dish){return h(\"tr\",null,h(\"td\",null,dish.title),h(\"td\",null,_this3.getdishprice(dish)),h(\"button\",{onClick:function onClick(){_this3.removeDish(dish.id);}},\"delete\"));}),h(\"tr\",null,h(\"td\",null,\"Total dinner price: \"),h(\"td\",null,this.menuprice)))));}},{key:\"getdishprice\",value:function getdishprice(dish){this.dishprice=sum(dish.extendedIngredients)*this.props.model.getNumberOfGuests();this.menuprice=this.menuprice+this.dishprice;return this.dishprice;}}]);return SidebarView;}(React.Component);export{SidebarView as default};function sum(input){if(toString.call(input)!==\"[object Array]\")return false;var total=0;for(var i=0;i<input.length;i++){if(isNaN(input[i].amount)){continue;}total+=Number(input[i].amount);}return total;}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/sidebar/sidebarView.js"],"names":["React","h","createElement","SidebarView","props","state","menuprice","dishtypesort","value","model","getNumberOfGuests","setNumberOfGuests","id","removeFromMenu","setState","addObserver","update","removeObserver","onClick","add","getMenu","sort","a","b","dishTypes","includes","map","dish","title","getdishprice","removeDish","dishprice","sum","extendedIngredients","Component","input","toString","call","total","i","length","isNaN","amount","Number"],"mappings":"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","sourcesContent":["// js/summary/summaryView.js\r\nimport React from 'react';\r\nconst h = React.createElement;\r\n\r\n\r\nexport default class SidebarView extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.props = props;\r\n        // we put on state the properties we want to use and modify in the component\r\n        this.state = {\r\n            \r\n        };\r\n        this.menuprice = 0;\r\n        this.dishtypesort= {\"starter\": 1 , \"main course\" : 2 , \"dessert\": 3 };\r\n        \r\n        }\r\n\r\n\r\n    add(value){\r\n      if (value === -1 && this.props.model.getNumberOfGuests() === 1){\r\n        \r\n       }\r\n      else{\r\n        this.props.model.setNumberOfGuests(this.props.model.getNumberOfGuests()+value)\r\n      }}\r\n\r\n    removeDish(id){\r\n      this.props.model.removeFromMenu(id)\r\n    }\r\n    \r\n    \r\n    update() {\r\n        \r\n        this.setState({\r\n          \r\n        })\r\n      }\r\n    \r\n\r\n    componentDidMount() {\r\n        this.props.model.addObserver(() => this.update());\r\n      }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n      componentWillUnmount() {\r\n        this.props.model.removeObserver(this)\r\n      }\r\n    \r\n\r\n\r\n\r\n    render(){\r\n        \r\n        this.menuprice = 0;\r\n        return h(\"div\",null,\r\n        h(\"button\", {onClick: () => this.add(-1)}, \"-\"),\r\n        h(\"span\", null, this.props.model.getNumberOfGuests()),\r\n        h(\"button\", {onClick: () => this.add(1)}, \"+\"),\r\n        h(\"div\",null,\r\n        h(\"table\", null,\r\n        h(\"tr\" ,null, h(\"th\",null, \"Dish name\"), h(\"th\", null,\"Dish price (SEK)\")),\r\n            this.props.model.getMenu().sort( function(a, b){\r\n            if(a.dishTypes.includes(\"starter\")){return -1}\r\n            else if(a.dishTypes.includes(\"main course\") && b.dishTypes.includes(\"dessert\")){return -1}\r\n            else if(a.dishTypes.includes(\"dessert\")){return 1}\r\n            return null} \r\n            ).map(dish=> h(\"tr\",null, h(\"td\" ,null, dish.title ), h(\"td\",null,  this.getdishprice(dish)), h(\"button\",{onClick: () => {this.removeDish(dish.id)}}, \"delete\"))),\r\n        h(\"tr\",null, h(\"td\",null, \"Total dinner price: \"), h(\"td\", null, this.menuprice))\r\n        )));\r\n        \r\n    }\r\n\r\n    getdishprice(dish){\r\n        this.dishprice = sum(dish.extendedIngredients) * this.props.model.getNumberOfGuests();\r\n        this.menuprice = this.menuprice + this.dishprice;\r\n        return this.dishprice\r\n    }\r\n\r\n}\r\n\r\nfunction sum(input){\r\n             \r\n    if (toString.call(input) !== \"[object Array]\")\r\n       return false;\r\n         \r\n               var total =  0;\r\n               for(var i=0;i<input.length;i++)\r\n                 {                  \r\n                   if(isNaN(input[i].amount)){\r\n                   continue;\r\n                    }\r\n                     total += Number(input[i].amount);\r\n                  }\r\n                return total;\r\n               }"]},"metadata":{},"sourceType":"module"}