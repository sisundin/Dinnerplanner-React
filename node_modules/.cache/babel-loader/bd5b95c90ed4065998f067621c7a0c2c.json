{"ast":null,"code":"import _classCallCheck from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import RenderPromise from'../otil/renderPromise.js';import{Link}from'react-router-dom';import{BrowserRouter}from'react-router-dom';var h=React.createElement;var SearchView=/*#__PURE__*/function(_React$Component){_inherits(SearchView,_React$Component);function SearchView(props){var _this;_classCallCheck(this,SearchView);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchView).call(this,props));_this.props=props;_this.state={};return _this;}_createClass(SearchView,[{key:\"update\",value:function update(){this.setState({});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//this.updateSearchResults()\nthis.props.model.addObserver(function(){return _this2.update();});}// this is called when component is removed from the DOM\n// good place to remove observer\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.model.removeObserver(this);}},{key:\"render\",value:function render(){var _this3=this;return h(\"div\",null,h(\"div\",null,h(\"input\",{id:'searchInput'},null),// free text search box\nh(\"select\",{id:'selectInput'},h(\"option\",{value:\"\"},\"Choose:\"),// empty first choice\n// the rest of the SELECT children are generated from an array:\n[\"starter\",\"main course\",\"dessert\"].map(function(opt){return h(\"option\",{value:opt},opt);})),h(\"button\",{onClick:function onClick(){return _this3.update();}},\"Search!\"),// search button\nReact.createElement(Link,{to:\"/summary\"},React.createElement(\"button\",{className:\"navigationbutton\",onClick:function onClick(){document.getElementById(\"search\").classList.add('hide');document.getElementById(\"summary\").classList.remove('hide');}},\"Summary\"))),//document.getElementById(\"search\").classList.add('hide');\n//document.getElementById(\"summary\").classList.remove('hide');\n// end of search box document.getElementById(\"selectInput\").value document.getElementById(\"searchInput\").value\nh(\"div\",{id:\"searchresult\"},// empty div for search results\nReact.createElement(RenderPromise,{promise:this.props.model.searchDishes(\"\",\"\"),renderData:data.map(function(dish){return _this3.createDishDisplay(dish);})})));// initially populate the resultDiv with nice dish images\n//dish.extendedIngredients.map(ingredient=> h(\"tr\",null, h(\"td\" ,null, ingredient.name)\n//(data => {h(\"div\", null, data.map(dish => this.createDishDisplay(dish)))})\n}},{key:\"createDishDisplay\",value:function createDishDisplay(dish){var dishimage=\"https://spoonacular.com/recipeImages/\"+dish.image;return React.createElement(BrowserRouter,null,React.createElement(Link,{to:'/details/'+dish.id},React.createElement(\"span\",{className:\"food\",id:dish.id,onClick:function onClick(){document.getElementById(\"search\").classList.add('hide');document.getElementById(\"details\").classList.remove('hide');}},React.createElement(\"span\",null,dish.title),React.createElement(\"img\",{src:dishimage,alt:\"\"}))));}},{key:\"updateSearchResults\",value:function updateSearchResults(){var _this4=this;RenderPromise(this.props.model.searchDishes(document.getElementById(\"selectInput\").value,document.getElementById(\"searchInput\").value),function(dishes){return h(\"div\",null,dishes.map(function(dish){return _this4.createDishDisplay(dish);}));},document.getElementById(\"searchresult\"));}},{key:\"isDishRepresentation\",value:function isDishRepresentation(clickedNode){if(clickedNode.className.includes(\"food\")===true){return clickedNode.getAttribute(\"id\");}if(clickedNode.parentElement.className.includes(\"food\")===true){return clickedNode.parentElement.getAttribute(\"id\");}else{return null;}}}]);return SearchView;}(React.Component);export{SearchView as default};","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/search/searchView.js"],"names":["React","RenderPromise","Link","BrowserRouter","h","createElement","SearchView","props","state","setState","model","addObserver","update","removeObserver","id","value","map","opt","onClick","document","getElementById","classList","add","remove","searchDishes","data","dish","createDishDisplay","dishimage","image","title","dishes","clickedNode","className","includes","getAttribute","parentElement","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport RenderPromise from '../otil/renderPromise.js'\nimport {Link} from 'react-router-dom';\nimport {BrowserRouter} from 'react-router-dom';\n\nconst h = React.createElement;\n\n\nexport default class SearchView extends React.Component{\n    constructor(props){\n        super(props);\n        this.props = props;\n        this.state = {\n            \n        };\n        \n    }\n\n    update() {\n        this.setState({\n            \n        })\n      }\n    \n    componentDidMount() {\n        //this.updateSearchResults()\n        this.props.model.addObserver(() => this.update());\n      }\n      // this is called when component is removed from the DOM\n      // good place to remove observer\n    componentWillUnmount() {\n        this.props.model.removeObserver(this)\n      }\n\n    render(){\n        return h(\"div\", null,  \n         h(\"div\", null,\n            h(\"input\", {id:'searchInput' },null),// free text search box\n            h(\"select\", {id:'selectInput'},  \n            h(\"option\", {value:\"\"}, \"Choose:\"),                             // empty first choice\n            // the rest of the SELECT children are generated from an array:\n            [\"starter\", \"main course\", \"dessert\"].map(opt=> h(\"option\", {value: opt}, opt))\n            ),  \n\n            h(\"button\",{onClick: () => this.update()}, \"Search!\"), // search button\n            \n            <Link to= '/summary'>\n            <button className=\"navigationbutton\" onClick={() =>{ \n                document.getElementById(\"search\").classList.add('hide');\n                document.getElementById(\"summary\").classList.remove('hide');\n                }}>\n            Summary \n            </button>\n        \n            </Link>),\n            //document.getElementById(\"search\").classList.add('hide');\n            //document.getElementById(\"summary\").classList.remove('hide');\n             // end of search box document.getElementById(\"selectInput\").value document.getElementById(\"searchInput\").value\n            \n            h(\"div\",{id:\"searchresult\"}, // empty div for search results\n            <RenderPromise \n\n            promise = { this.props.model.searchDishes( \n                 \"\" \n                ,\"\")} \n            renderData = {(data.map(dish => this.createDishDisplay(dish)))}\n                        />\n        ))\n         // initially populate the resultDiv with nice dish images\n         //dish.extendedIngredients.map(ingredient=> h(\"tr\",null, h(\"td\" ,null, ingredient.name)\n\n         //(data => {h(\"div\", null, data.map(dish => this.createDishDisplay(dish)))})\n    }\n    \n    createDishDisplay(dish){\n    let dishimage = \"https://spoonacular.com/recipeImages/\"+ dish.image;\n    \n      return <BrowserRouter>\n      <Link to= {'/details/' + dish.id}>\n        <span className= \"food\" id= {dish.id} onClick = {() => {\n            document.getElementById(\"search\").classList.add('hide');\n            document.getElementById(\"details\").classList.remove('hide');\n            }}>\n        <span>{dish.title}</span>\n        <img src = {dishimage} alt = \"\"></img>\n        </span>           \n        </Link>\n        </BrowserRouter>\n    }\n    \n\n    updateSearchResults(){\n        \n        RenderPromise( \n            this.props.model.searchDishes(document.getElementById(\"selectInput\").value, document.getElementById(\"searchInput\").value), \n            dishes=> h(\"div\", null, dishes.map(dish => this.createDishDisplay(dish))),\n            document.getElementById(\"searchresult\")\n        )\n\n          \n    } \n    \n    isDishRepresentation(clickedNode){\n        \n        \n        if(clickedNode.className.includes(\"food\") === true) {\n            return clickedNode.getAttribute(\"id\")\n            \n        }\n\n        if( clickedNode.parentElement.className.includes(\"food\") === true){  \n                return clickedNode.parentElement.getAttribute(\"id\")\n        }\n\n        else{\n            \n             return null\n        }\n    \n\n    }\n\n\n}\n\n"]},"metadata":{},"sourceType":"module"}