{"ast":null,"code":"import _classCallCheck from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import RenderPromise from'../otil/renderPromise.js';import DishDetailsView from'./detailsView';var h=React.createElement;var DishDetailsContainer=/*#__PURE__*/function(_React$Component){_inherits(DishDetailsContainer,_React$Component);function DishDetailsContainer(props){var _this;_classCallCheck(this,DishDetailsContainer);_this=_possibleConstructorReturn(this,_getPrototypeOf(DishDetailsContainer).call(this,props));_this.props=props;console.log(_this.props);_this.currentDish=_this.props.dishid;_this.state={id:_this.props.dishid};//this.onAdd = onAdd;\n//this.onAddCallback = onAdd[0];\n//this.onAddLabel = onAdd[1];\n//this.onCancelCallback=onCancel[0];\n//this.onCancelLabel=onCancel[1];    \nreturn _this;}_createClass(DishDetailsContainer,[{key:\"update\",value:function update(){this.setState({id:this.props.dishid});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(\"Details was mountet\");this.props.model.addObserver(function(){return _this2.update();});}// this is called when component is removed from the DOM\n// good place to remove observer\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.model.removeObserver(this);}},{key:\"createDishDisplay\",value:function createDishDisplay(dish){var _this3=this;return React.createElement(DishDetailsView,{dish:dish,addControl:[function(){_this3.props.model.addToMenu(dish);},this.onAddLabel],onCancel:[function(){document.getElementById(\"details\").classList.add('hide');document.getElementById(\"search\").classList.remove('hide');},this.onCancelLable],price:this.props.model.getDishPrice(dish),guests:this.props.model.getNumberOfGuests(),inMenu:this.props.model.dishInMenu(dish)});}},{key:\"render\",value:function render(){var _this4=this;this.currentDish=this.props.dishid;console.log(this.currentDish);return h(\"div\",null,React.createElement(RenderPromise,{promise:this.props.model.getDishDetails(this.currentDish),renderData:function renderData(dish){return h(\"div\",null,_this4.createDishDisplay(dish));}}));}}]);return DishDetailsContainer;}(React.Component);export{DishDetailsContainer as default};","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js"],"names":["React","RenderPromise","DishDetailsView","h","createElement","DishDetailsContainer","props","console","log","currentDish","dishid","state","id","setState","model","addObserver","update","removeObserver","dish","addToMenu","onAddLabel","document","getElementById","classList","add","remove","onCancelLable","getDishPrice","getNumberOfGuests","dishInMenu","getDishDetails","createDishDisplay","Component"],"mappings":"mzBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,eAA5B,CACA,GAAMC,CAAAA,CAAC,CAAGH,KAAK,CAACI,aAAhB,C,GAGqBC,CAAAA,oB,0FACb,8BAAYC,KAAZ,CAAkB,sDACV,sFAAMA,KAAN,GAEA,MAAKA,KAAL,CAAaA,KAAb,CACAC,OAAO,CAACC,GAAR,CAAY,MAAKF,KAAjB,EACA,MAAKG,WAAL,CAAmB,MAAKH,KAAL,CAAWI,MAA9B,CAEA,MAAKC,KAAL,CAAa,CACLC,EAAE,CAAE,MAAKN,KAAL,CAAWI,MADV,CAAb,CAGR;AACJ;AACA;AACA;AACA;AAdsB,aAiBjB,C,wEAKQ,CACT,KAAKG,QAAL,CAAc,CACND,EAAE,CAAC,KAAKN,KAAL,CAAWI,MADR,CAAd,EAIiB,C,6DAEG,iBACZH,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAEA,KAAKF,KAAL,CAAWQ,KAAX,CAAiBC,WAAjB,CAA6B,iBAAM,CAAA,MAAI,CAACC,MAAL,EAAN,EAA7B,EACiB,CAE3B;AACA;mEACyB,CACf,KAAKV,KAAL,CAAWQ,KAAX,CAAiBG,cAAjB,CAAgC,IAAhC,EACkB,C,4DAERC,I,CAAK,iBAEnB,MAAO,qBAAC,eAAD,EACH,IAAI,CAAIA,IADL,CAEH,UAAU,CAAI,CAAE,UAAI,CAAE,MAAI,CAACZ,KAAL,CAAWQ,KAAX,CAAiBK,SAAjB,CAA2BD,IAA3B,EAET,CAFC,CAEC,KAAKE,UAFN,CAFX,CAKH,QAAQ,CAAG,CAAE,UAAI,CACDC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,GAA7C,CAAiD,MAAjD,EACAH,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,CAA4CE,MAA5C,CAAmD,MAAnD,EAEH,CAJF,CAII,KAAKC,aAJT,CALR,CAUH,KAAK,CAAG,KAAKpB,KAAL,CAAWQ,KAAX,CAAiBa,YAAjB,CAA8BT,IAA9B,CAVL,CAWH,MAAM,CAAG,KAAKZ,KAAL,CAAWQ,KAAX,CAAiBc,iBAAjB,EAXN,CAYH,MAAM,CAAG,KAAKtB,KAAL,CAAWQ,KAAX,CAAiBe,UAAjB,CAA4BX,IAA5B,CAZN,EAAP,CAc6B,C,uCAEzB,iBACA,KAAKT,WAAL,CAAmB,KAAKH,KAAL,CAAWI,MAA9B,CACAH,OAAO,CAACC,GAAR,CAAY,KAAKC,WAAjB,EACA,MAAON,CAAAA,CAAC,CAAC,KAAD,CAAQ,IAAR,CAAc,oBAAC,aAAD,EACtB,OAAO,CAAI,KAAKG,KAAL,CAAWQ,KAAX,CAAiBgB,cAAjB,CAAgC,KAAKrB,WAArC,CADW,CAEtB,UAAU,CAAI,oBAAAS,IAAI,QAAGf,CAAAA,CAAC,CAAC,KAAD,CAAQ,IAAR,CAAc,MAAI,CAAC4B,iBAAL,CAAuBb,IAAvB,CAAd,CAAJ,EAFI,EAAd,CAAR,CAIP,C,kCAnEyClB,KAAK,CAACgC,S,SAAnC3B,oB","sourcesContent":["import React from 'react';\r\nimport RenderPromise from '../otil/renderPromise.js'\r\nimport DishDetailsView from './detailsView';\r\nconst h = React.createElement;\r\n\r\n\r\nexport default class DishDetailsContainer extends React.Component{\r\n        constructor(props){\r\n                super(props) \r\n                \r\n                this.props = props;\r\n                console.log(this.props);\r\n                this.currentDish = this.props.dishid;\r\n                \r\n                this.state = {\r\n                        id: this.props.dishid \r\n                                };\r\n        //this.onAdd = onAdd;\r\n    //this.onAddCallback = onAdd[0];\r\n    //this.onAddLabel = onAdd[1];\r\n    //this.onCancelCallback=onCancel[0];\r\n    //this.onCancelLabel=onCancel[1];    \r\n                \r\n\r\n        }\r\n\r\n       \r\n        \r\n\r\n        update() {\r\n        this.setState({   \r\n                id:this.props.dishid   \r\n        }); \r\n        \r\n                        }\r\n    \r\n        componentDidMount() {\r\n                console.log(\"Details was mountet\");\r\n                \r\n                this.props.model.addObserver(() => this.update());\r\n                                }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n        componentWillUnmount() {\r\n                this.props.model.removeObserver(this);\r\n                                 }\r\n\r\n        createDishDisplay(dish){ \r\n                \r\n            return <DishDetailsView \r\n                dish = {dish} \r\n                addControl = {[ ()=>{ this.props.model.addToMenu(dish)\r\n                                    \r\n                            }, this.onAddLabel]}\r\n                onCancel= {[ ()=>{\r\n                                document.getElementById(\"details\").classList.add('hide')\r\n                                document.getElementById(\"search\").classList.remove('hide')\r\n                                    \r\n                            }, this.onCancelLable]}\r\n                price= {this.props.model.getDishPrice(dish)}\r\n                guests= {this.props.model.getNumberOfGuests()}\r\n                inMenu= {this.props.model.dishInMenu(dish)}\r\n                />\r\n                                        }\r\n                                        \r\n        render(){\r\n                this.currentDish = this.props.dishid;\r\n                console.log(this.currentDish)\r\n                return h(\"div\", null ,<RenderPromise \r\n                promise=  {this.props.model.getDishDetails(this.currentDish)}\r\n                renderData = {dish=> h(\"div\", null, this.createDishDisplay(dish)) }\r\n                />)\r\n        }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}