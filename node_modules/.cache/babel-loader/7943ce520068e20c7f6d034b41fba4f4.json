{"ast":null,"code":"var _jsxFileName = \"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js\";\nimport React from 'react';\nimport renderPromise from '../otil/renderPromise.js'; //import DishDetailsView from './detailsView';\n\nconst h = React.createElement;\nexport default class DishDetailsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {}; //this.onAdd = onAdd;\n    //this.onAddCallback = onAdd[0];\n    //this.onAddLabel = onAdd[1];\n    //this.onCancelCallback=onCancel[0];\n    //this.onCancelLabel=onCancel[1];    \n\n    this.currentDish = \"\";\n  }\n\n  update() {\n    this.updateDishdisplay(this.currentDish);\n    this.setState({});\n    console.log(\"statechange\");\n    console.log(this.currentDish);\n  }\n\n  componentDidMount() {\n    console.log(\"Details was mountet\");\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  createDishDisplay(dish) {\n    return React.createElement(this.DishDetailsView, {\n      dish: dish,\n      addControl: [() => {\n        this.props.model.addToMenu(dish);\n      }, this.onAddLabel],\n      onCancel: [() => {\n        document.getElementById(\"details\").classList.add('hide');\n        document.getElementById(\"search\").classList.remove('hide');\n      }, this.onCancelLable],\n      price: this.props.model.getDishPrice(dish),\n      guests: this.props.model.getNumberOfGuests(),\n      inMenu: this.props.model.dishInMenu(dish),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    });\n  }\n\n  updateDishdisplay(id) {\n    this.currentDish = id;\n    return renderPromise(this.props.model.getDishDetails(id), dish => h(\"div\", null, this.createDishDisplay(dish)), document.getElementById(\"dishdetailscontainer\"));\n  }\n\n  DishDetailsView({\n    dish,\n    addControl: [addAction, addMessage],\n    onCancel: [cancelAction, cancelMessage],\n    price,\n    guests,\n    inMenu\n  }) {\n    return h(\"div\", null, h(\"p\", null, \"Name: \" + dish.title), h(\"p\", null, \"Type: \", dish.dishTypes.map(dish => h(\"span\", dish + \", \"))), h(\"p\", null, \"Price: \" + price), h(\"img\", {\n      src: dish.image\n    }), h(\"p\", null, dish.instructions), h(\"div\", null, inMenu ? h(\"button\", {\n      class: \"navigationbutton\",\n      onClick: addAction,\n      label: addMessage\n    }, \"Add to menu\") : h(\"span\", null, \"Dish is in menu!\")), h(\"div\", null, h(\"button\", {\n      class: \"navigationbutton\",\n      onClick: cancelAction,\n      label: cancelMessage\n    }, \"Back to search\")), h(\"table\", null, h(\"tr\", null, h(\"th\", null, \" Ingredient\"), h(\"th\", null, \"amount\")), dish.extendedIngredients.map(ingredient => h(\"tr\", null, h(\"td\", null, ingredient.name), h(\"td\", null, ingredient.amount * guests)))), h('a', {\n      href: dish.sourceUrl\n    }, 'CLICK HERE FOR MORE DISH DETAILS'));\n  }\n\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js"],"names":["React","renderPromise","h","createElement","DishDetailsContainer","Component","constructor","props","state","currentDish","update","updateDishdisplay","setState","console","log","componentDidMount","model","addObserver","componentWillUnmount","removeObserver","createDishDisplay","dish","addToMenu","onAddLabel","document","getElementById","classList","add","remove","onCancelLable","getDishPrice","getNumberOfGuests","dishInMenu","id","getDishDetails","DishDetailsView","addControl","addAction","addMessage","onCancel","cancelAction","cancelMessage","price","guests","inMenu","title","dishTypes","map","src","image","instructions","class","onClick","label","extendedIngredients","ingredient","name","amount","href","sourceUrl"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport renderPromise from '../otil/renderPromise.js'\r\n//import DishDetailsView from './detailsView';\r\nconst h = React.createElement;\r\n\r\n\r\nexport default class DishDetailsContainer extends React.Component{\r\n        constructor(props){\r\n                super(props) \r\n                this.props = props;\r\n                this.state = {\r\n                         \r\n                                };\r\n//this.onAdd = onAdd;\r\n    //this.onAddCallback = onAdd[0];\r\n    //this.onAddLabel = onAdd[1];\r\n    //this.onCancelCallback=onCancel[0];\r\n    //this.onCancelLabel=onCancel[1];    \r\n                this.currentDish = \"\";\r\n\r\n        }\r\n        \r\n        update() {\r\n        this.updateDishdisplay(this.currentDish);\r\n        this.setState({\r\n                \r\n                \r\n        }); \r\n        console.log(\"statechange\")\r\n        console.log(this.currentDish)\r\n                        }\r\n    \r\n        componentDidMount() {\r\n                console.log(\"Details was mountet\")\r\n                this.props.model.addObserver(() => this.update());\r\n                                }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n        componentWillUnmount() {\r\n                this.props.model.removeObserver(this);\r\n                                 }\r\n\r\n        createDishDisplay(dish){ \r\n                \r\n            return <this.DishDetailsView \r\n                dish = {dish} \r\n                addControl = {[ ()=>{ this.props.model.addToMenu(dish)\r\n                                    \r\n                            }, this.onAddLabel]}\r\n                onCancel= {[ ()=>{\r\n                                document.getElementById(\"details\").classList.add('hide')\r\n                                document.getElementById(\"search\").classList.remove('hide')\r\n                                    \r\n                            }, this.onCancelLable]}\r\n                price= {this.props.model.getDishPrice(dish)}\r\n                guests= {this.props.model.getNumberOfGuests()}\r\n                inMenu= {this.props.model.dishInMenu(dish)}\r\n                />\r\n                                        }\r\n\r\n\r\n  updateDishdisplay(id){\r\n        this.currentDish = id;\r\n        return renderPromise(this.props.model.getDishDetails(id), \r\n                dish=> h(\"div\", null, this.createDishDisplay(dish)),\r\n                document.getElementById(\"dishdetailscontainer\"))\r\n  }\r\n\r\n  DishDetailsView ({\r\n        dish, \r\n        addControl:[addAction, addMessage], \r\n        onCancel:[cancelAction, cancelMessage], \r\n        price, \r\n        guests, \r\n        inMenu}){ \r\n        return h(\"div\", null, h(\"p\" ,null, \"Name: \"+ dish.title), h(\"p\" ,null, \"Type: \",  dish.dishTypes.map(dish => h(\"span\",dish + \", \" ))), h(\"p\" , null,\"Price: \" +price), \r\n        h(\"img\", {src: dish.image}), h(\"p\" ,null, dish.instructions),\r\n        h(\"div\" ,null, inMenu?h(\"button\", {class:\"navigationbutton\", onClick: addAction, label:addMessage},\"Add to menu\"): h(\"span\",null,\"Dish is in menu!\")),\r\n        h(\"div\", null, h(\"button\" , {class:\"navigationbutton\", onClick: cancelAction, label:cancelMessage},\"Back to search\")),\r\n        h(\"table\", null, \r\n        h(\"tr\" ,null, h(\"th\", null,\" Ingredient\"), h(\"th\",null, \"amount\")),\r\n        dish.extendedIngredients.map(ingredient=> h(\"tr\",null, h(\"td\" ,null, ingredient.name), h(\"td\", null, ingredient.amount * guests)))),\r\n        h('a', {href: dish.sourceUrl}, 'CLICK HERE FOR MORE DISH DETAILS')\r\n        )}\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}