{"ast":null,"code":"var _jsxFileName = \"/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js\";\nimport React from 'react';\nimport renderPromise from '../otil/renderPromise.js';\nimport DishDetailsView from './detailsView';\nconst h = React.createElement;\nexport default class DishDetailsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.root = document.getElementById('details');\n    this.state = {\n      current\n    }; //this.onAdd = onAdd;\n    //this.onAddCallback = onAdd[0];\n    //this.onAddLabel = onAdd[1];\n    //this.onCancelCallback=onCancel[0];\n    //this.onCancelLabel=onCancel[1];\n\n    this.props.model.addObserver(() => this.currentDish ? this.createDishDisplay(this.currentDish).render(this.root) : null);\n  }\n\n  update() {\n    this.setState({});\n  }\n\n  componentDidMount() {\n    this.props.model.addObserver(() => this.update());\n  } // this is called when component is removed from the DOM\n  // good place to remove observer\n\n\n  componentWillUnmount() {\n    this.props.model.removeObserver(this);\n  }\n\n  createDishDisplay(id) {\n    let dish = this.props.getElementById(id);\n    return React.createElement(DishDetailsView, {\n      dish: dish,\n      addControl: [() => {\n        this.props.model.addToMenu(dish);\n        this.onAddCallback();\n      }, this.onAddLabel],\n      onCancel: [() => {\n        document.getElementById(\"details\").classList.add('hide');\n        document.getElementById(\"search\").classList.remove('hide');\n        this.onCancelCallback();\n      }, this.onCancelLable],\n      price: this.props.model.getDishPrice(dish),\n      guests: this.props.model.getNumberOfGuests(),\n      inMenu: this.props.model.dishInMenu(dish),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    });\n  }\n\n  render(id) {\n    debugger;\n    this.setState.currentDish = this.getElementById(id);\n    return renderPromise(this.props.model.getDishDetails(id), () => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"(this.createDishDisplay(id))\"), document.getElementById(\"details\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/simonsundin/Desktop/KTH/Interaktions_design/tutorialweek4/dinnerplanner/src/details/detailsContainer.js"],"names":["React","renderPromise","DishDetailsView","h","createElement","DishDetailsContainer","Component","constructor","props","root","document","getElementById","state","current","model","addObserver","currentDish","createDishDisplay","render","update","setState","componentDidMount","componentWillUnmount","removeObserver","id","dish","addToMenu","onAddCallback","onAddLabel","classList","add","remove","onCancelCallback","onCancelLable","getDishPrice","getNumberOfGuests","dishInMenu","getDishDetails"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA4B,eAA5B;AACA,MAAMC,CAAC,GAAGH,KAAK,CAACI,aAAhB;AAGA,eAAe,MAAMC,oBAAN,SAAmCL,KAAK,CAACM,SAAzC,CAAkD;AACzDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACV,UAAMA,KAAN;AACA,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAWC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAX;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA;AAAD,KAAb,CAJU,CAOtB;AACA;AACA;AACA;AACA;;AAEY,SAAKL,KAAL,CAAWM,KAAX,CAAiBC,WAAjB,CAA6B,MAAK,KAAKC,WAAL,GAAiB,KAAKC,iBAAL,CAAuB,KAAKD,WAA5B,EAAyCE,MAAzC,CAAgD,KAAKT,IAArD,CAAjB,GAA4E,IAA9G;AACiB;;AAEzBU,EAAAA,MAAM,GAAG;AACT,SAAKC,QAAL,CAAc,EAAd;AAGiB;;AAEjBC,EAAAA,iBAAiB,GAAG;AACZ,SAAKb,KAAL,CAAWM,KAAX,CAAiBC,WAAjB,CAA6B,MAAM,KAAKI,MAAL,EAAnC;AACiB,GAzBgC,CA2B3D;AACA;;;AACEG,EAAAA,oBAAoB,GAAG;AACf,SAAKd,KAAL,CAAWM,KAAX,CAAiBS,cAAjB,CAAgC,IAAhC;AACkB;;AAE1BN,EAAAA,iBAAiB,CAACO,EAAD,EAAI;AACb,QAAIC,IAAI,GAAE,KAAKjB,KAAL,CAAWG,cAAX,CAA0Ba,EAA1B,CAAV;AACJ,WAAO,oBAAC,eAAD;AACH,MAAA,IAAI,EAAIC,IADL;AAEH,MAAA,UAAU,EAAI,CAAE,MAAI;AAAE,aAAKjB,KAAL,CAAWM,KAAX,CAAiBY,SAAjB,CAA2BD,IAA3B;AACF,aAAKE,aAAL;AACP,OAFC,EAEC,KAAKC,UAFN,CAFX;AAKH,MAAA,QAAQ,EAAG,CAAE,MAAI;AAAClB,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCkB,SAAnC,CAA6CC,GAA7C,CAAiD,MAAjD;AACFpB,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCkB,SAAlC,CAA4CE,MAA5C,CAAmD,MAAnD;AACI,aAAKC,gBAAL;AACP,OAHF,EAGI,KAAKC,aAHT,CALR;AASH,MAAA,KAAK,EAAG,KAAKzB,KAAL,CAAWM,KAAX,CAAiBoB,YAAjB,CAA8BT,IAA9B,CATL;AAUH,MAAA,MAAM,EAAG,KAAKjB,KAAL,CAAWM,KAAX,CAAiBqB,iBAAjB,EAVN;AAWH,MAAA,MAAM,EAAG,KAAK3B,KAAL,CAAWM,KAAX,CAAiBsB,UAAjB,CAA4BX,IAA5B,CAXN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAa6B;;AAGtCP,EAAAA,MAAM,CAACM,EAAD,EAAI;AACR;AACA,SAAKJ,QAAL,CAAcJ,WAAd,GAA4B,KAAKL,cAAL,CAAoBa,EAApB,CAA5B;AACA,WAAOvB,aAAa,CAAC,KAAKO,KAAL,CAAWM,KAAX,CAAiBuB,cAAjB,CAAgCb,EAAhC,CAAD,EACd,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADQ,EAETd,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAFS,CAApB;AAGF;;AAzD8D","sourcesContent":["import React from 'react';\r\nimport renderPromise from '../otil/renderPromise.js'\r\nimport DishDetailsView from './detailsView';\r\nconst h = React.createElement;\r\n\r\n\r\nexport default class DishDetailsContainer extends React.Component{\r\n        constructor(props){\r\n                super(props) \r\n                this.props = props;\r\n                this.root= document.getElementById('details');\r\n                this.state = {current\r\n\r\n                                };\r\n    //this.onAdd = onAdd;\r\n    //this.onAddCallback = onAdd[0];\r\n    //this.onAddLabel = onAdd[1];\r\n    //this.onCancelCallback=onCancel[0];\r\n    //this.onCancelLabel=onCancel[1];\r\n                \r\n                this.props.model.addObserver(()=> this.currentDish?this.createDishDisplay(this.currentDish).render(this.root):null); \r\n                                }\r\n        \r\n        update() {\r\n        this.setState({\r\n                \r\n        })\r\n                        }\r\n    \r\n        componentDidMount() {\r\n                this.props.model.addObserver(() => this.update());\r\n                                }\r\n    \r\n      // this is called when component is removed from the DOM\r\n      // good place to remove observer\r\n        componentWillUnmount() {\r\n                this.props.model.removeObserver(this)\r\n                                 }\r\n\r\n        createDishDisplay(id){ \r\n                let dish= this.props.getElementById(id)\r\n            return <DishDetailsView \r\n                dish = {dish} \r\n                addControl = {[ ()=>{ this.props.model.addToMenu(dish)\r\n                                    this.onAddCallback()\r\n                            }, this.onAddLabel]}\r\n                onCancel= {[ ()=>{document.getElementById(\"details\").classList.add('hide')\r\n                                document.getElementById(\"search\").classList.remove('hide')\r\n                                    this.onCancelCallback()\r\n                            }, this.onCancelLable]}\r\n                price= {this.props.model.getDishPrice(dish)}\r\n                guests= {this.props.model.getNumberOfGuests()}\r\n                inMenu={ this.props.model.dishInMenu(dish)}\r\n                                                />\r\n                                        }\r\n\r\n\r\n   render(id){\r\n     debugger;\r\n     this.setState.currentDish = this.getElementById(id)\r\n     return renderPromise(this.props.model.getDishDetails(id), \r\n           () => <div>(this.createDishDisplay(id))</div>,\r\n                document.getElementById(\"details\"))\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}